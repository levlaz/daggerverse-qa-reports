<!DOCTYPE html>
<html>
<head>
    <title>QA Report - commitlint</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .container { max-width: 1200px; margin: 0 auto; }
        .error { color: red; }
        .suggestion { margin: 20px 0; padding: 20px; background: #f5f5f5; }
        pre { background: #f0f0f0; padding: 10px; border-radius: 5px; }
        .meme { max-width: 500px; margin: 20px 0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>QA Report: commitlint</h1>
        
        <h2>Module Information</h2>
        <ul>
            <li><strong>Name:</strong> commitlint</li>
            <li><strong>Author:</strong> cloudnative-pg</li>
            <li><strong>Latest Version:</strong> 6dd81e0cdd946d5dde24f044f66f1ed8111758cf</li>
            <li><strong>Dagger Engine Version Used:</strong> v0.18.2</li>
        </ul>

        <h2>Module Purpose</h2>
        <p>This module runs commitlint to validate conventional commits. It provides tooling to ensure commit messages follow the conventional commits specification.</p>

        <h2>Functions</h2>
        <ul>
            <li><strong>lint()</strong> - Runs commitlint to lint commit messages
                <ul>
                    <li>Required arguments:
                        <ul>
                            <li>source: Directory! - The directory of the repository</li>
                            <li>args: [String!] - A list of arguments to pass to commitlint</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>

        <h2>Improvement Suggestions</h2>
        
        <div class="suggestion">
            <h3>1. Add Input Validation</h3>
            <p>Add validation for the commit message format before processing to provide better error messages.</p>
            <pre>
// Add input validation
func validateCommitMessage(message string) error {
    if len(message) < 10 {
        return fmt.Errorf("commit message too short: minimum length is 10 characters")
    }
    if !strings.Contains(message, ":") {
        return fmt.Errorf("invalid commit format: missing type (feat:, fix:, etc.)")
    }
    return nil
}
            </pre>
        </div>

        <div class="suggestion">
            <h3>2. Add Configuration Options</h3>
            <p>Provide more configuration options for customizing the commit lint rules.</p>
            <pre>
type Config struct {
    MaxHeaderLength    int      `json:"maxHeaderLength"`
    AllowedTypes      []string `json:"allowedTypes"`
    RequireScope      bool     `json:"requireScope"`
    CustomRules       []Rule   `json:"customRules"`
}

func NewCommitlint(config Config) *Commitlint {
    // Initialize with custom configuration
}
            </pre>
            <img src="https://i.imgflip.com/65efzo.jpg" alt="Configuration Meme" class="meme">
        </div>

        <div class="suggestion">
            <h3>3. Add Testing Helper Functions</h3>
            <p>Include helper functions for testing commit messages in CI/CD pipelines.</p>
            <pre>
func TestCommitMessage(message string) (bool, []string) {
    errors := []string{}
    // Add test logic here
    return len(errors) == 0, errors
}

func BatchTestCommits(commits []string) TestReport {
    // Process multiple commits and generate report
}
            </pre>
        </div>

        <h2>Installation and Execution Results</h2>
        <p>✅ Module installation successful</p>
        <p>✅ Module build successful</p>
        
        <h2>Notes</h2>
        <ul>
            <li>The module is well-focused on a single responsibility</li>
            <li>Documentation is clear and includes examples</li>
            <li>Default image version is specified (commitlint/commitlint:19.8.0)</li>
        </ul>
    </div>
</body>
</html>